# 3G4 Medical Imaging and Computer Graphics[^1]
[^1]:Created by: Tom Xiaoding  Lu on 01/02/19
## I. Medical Image Acquisition
### 1. Ultrasonic Imaging
* **Basic Principle**
  * Ultrasound waves are generated by **piezoelectric crystals** which vibrates in an electric field
  * Its vibration when coupled to the patient's skin, spreads to the tissue
  * The vibration spreads to surrounding tissue particles, can be viewed as a propagation longitudinal pressure wave:![Capture](/assets/Capture_g58hgp9um.PNG)
  * The sound waves from a hand-held transducer propagate into the patient undergoing attenuation, diffraction, scattering, refraction and reflection
  * The probe also acts as a detector, the reflected intensity can be plotted against depth resulting in an **A-line** which is a 1D line
  ![Capture](/assets/Capture_tkcnmekc2.PNG)
  * By sweeping the ultrasound beam across a plane, and stacking the **A lines**, a 2D **B-Scan** is constructed with excellent temporal resolution of **70-80 B scans per second**
  ![Capture](/assets/Capture_9nd9a4n49.PNG)
  A: caused by **attenuation**
  S: **Speckle pattern** due to scattering
  R: Clear boundaries caused by **specular reflection and refraction**
* **Image Construction**
  - **Filtering** removes high frequency noise
  - **Envelope detection** removes the uninteresting radio frequency oscillations
  - **Time gain compensation** corrects for attenuation
  - **Log compression** compensates for large amplitude difference between specular and scatter reflections
  ![Capture](/assets/Capture_ps3l4qv0g.PNG)
* **Doppler Imaging and M Mode Imaging**
  - A Doppler ultrasound is used to estimate the blood flow through your blood vessels  
  - **Pulsed wave (PW)** Doppler measures the velocity at a particular location by **firing a short sequence of pulses along the same line** and looks at the phase differences between the received signals
  - Suffer from inferior spatial and temporal resolution
  - **M-mode imaging**: instead of sweeping the beam across the B-scan plane, a single A-line is scanned repeatedly, generating a 1D image displayed against time
  ![Capture](/assets/Capture_t4oupqc91.PNG)

* **Adiabatic compressibility:**
The sound speed is given by $c_0 = \sqrt{1/\rho_0\beta_{s0}}$ where $\beta_s$ is the adiabatic compressibility defined as:
$$
\beta_s = \dfrac{1}{\rho}\left(\dfrac{\partial \rho}{\partial p}\right)
$$
Which is the fractional change in density per unit increase in pressure acting on it. **i.e. The easier it is to squish something, the greater its compressibility**, **Ultrasound scanners assume average speed of 1540ms^-2**

* **Attenuation, Specular reflection and refraction**
  - Attenuation:
    - Mainly due to medium's viscosity which converts acoustic energy to heat
    - If the wave has amplitude $A_z$ and $A_0$ at propogation distances $z, 0$ respectively then:
    $$A_z = A_0 e^{-\alpha z} = A_0 e^{-\alpha_0 f^n z}$$
    - The attenuation coefficient $\alpha$ is therefore $\dfrac{\ln (A_0/A_z)}{z}$
    - At imaging frequencies, most tissues have an $\alpha$ that is proportional to frequency $(n=1)$.
